"use strict";function files(r,e){var o=[];return e=e||function(r){return!0},_.each(fs_1.readdirSync(r),function(n){var t=r+"/"+n,i=fs_1.lstatSync(t);i.isDirectory()?o=o.concat(files(t,e)):e(t)&&o.push(t)}),o}function taskSourceVal(r,e){return _.isFunction(r)?r(e):r||""}function taskStringVal(r,e){return _.isFunction(r)?r(e):r||""}function contains(r,e){return e.some(function(e){return r.indexOf(e)>=0})}function convertOper(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TaskConfig_1.Operation.default;return r=r||{},r.watch&&(r.oper=(r.oper||0)|TaskConfig_1.Operation.watch),r.e2e&&(r.oper=(r.oper||0)|TaskConfig_1.Operation.e2e),r.test&&(r.oper=(r.oper||0)|TaskConfig_1.Operation.test),r.oper=r.oper||e,r}function convertMatchOper(r){return r=convertOper(r,TaskConfig_1.Operation.build),(r.oper&TaskConfig_1.Operation.test)>0&&(r.oper=r.oper|TaskConfig_1.Operation.build),(r.oper&TaskConfig_1.Operation.deploy)>0&&(r.oper=r.oper|TaskConfig_1.Operation.test),(r.oper&TaskConfig_1.Operation.release)>0&&(r.oper=r.oper|TaskConfig_1.Operation.test),(r.oper&TaskConfig_1.Operation.e2e)>0&&(r.oper=r.oper|TaskConfig_1.Operation.build),r}function matchOper(r,e){return e=convertMatchOper(e),r=convertOper(r),!((r.oper&e.oper)<=0)&&(!((e.oper&TaskConfig_1.Operation.watch)<=0&&(r.oper&TaskConfig_1.Operation.watch)>0)&&(!((e.oper&TaskConfig_1.Operation.serve)<=0&&(r.oper&TaskConfig_1.Operation.serve)>0)&&(!((e.oper&TaskConfig_1.Operation.test)<=0&&(r.oper&TaskConfig_1.Operation.test)>0)&&!((e.oper&TaskConfig_1.Operation.e2e)<=0&&(r.oper&TaskConfig_1.Operation.e2e)>0))))}function matchTaskGroup(r,e){if(r.group&&e&&e.group){if(_.isString(e.group)){if(_.isString(r.group)&&r.group!==e.group)return!1;if(_.isArray(r.group)&&r.group.indexOf(e.group)<0)return!1}else if(_.isArray(e.group)){if(_.isString(r.group)&&e.group.indexOf(r.group)<0)return!1;if(_.isArray(r.group)&&!contains(r.group,e.group))return!1}}else{if(r.group)return!1;if(e&&e.group)return!1}return!0}var _=require("lodash"),TaskConfig_1=require("./TaskConfig"),fs_1=require("fs");exports.files=files,exports.taskSourceVal=taskSourceVal,exports.taskStringVal=taskStringVal,exports.matchOper=matchOper,exports.matchTaskGroup=matchTaskGroup;
//# sourceMappingURL=sourcemaps/utils.js.map
