"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var _=require("lodash"),PipeTask_1=require("../PipeTask"),DynamicPipeTask=function(t){function e(e,o){var i=t.call(this,o||e)||this;return i.dt=e,i.info.assert=e,i}return __extends(e,t),e.prototype.getOption=function(t){return this.name=this.name||t.toStr(this.dt.name),this.dt||t.option},e.prototype.customPipe=function(e,o,i,n){var r=this;return this.dt.pipe?Promise.resolve(t.prototype.customPipe.call(this,e,o,i,n)).then(function(t){return r.cpipe2Promise(t,r.dt,o,i,n)}):t.prototype.customPipe.call(this,e,o,i,n)},e.prototype.pipes=function(e,o,i){var n=_.isFunction(this.dt.pipes)?this.dt.pipes(e,o,i):this.dt.pipes;return n=n||[],n.concat(t.prototype.pipes.call(this,e,o,i))},e.prototype.output=function(e,o,i){if(null===this.dt.output)return[function(t){return t}];var n=_.isFunction(this.dt.output)?this.dt.output(e,o,i):this.dt.output;return n=n||[],n.concat(t.prototype.output.call(this,e,o,i))},e}(PipeTask_1.PipeTask);exports.DynamicPipeTask=DynamicPipeTask;
//# sourceMappingURL=../sourcemaps/tasks/DynamicPipeTask.js.map
