"use strict";function bindingConfig(e){return e.oper||(e.oper=currentOperation(e.env)),e.fileFilter=e.fileFilter||utils_1.files,e.runSequence=e.runSequence||taskSequence_1.runSequence,e.addToSequence=e.addToSequence||taskSequence_1.addToSequence,e.generateTask=e.generateTask||function(t,r){return generateTask_1.generateTask(t,_.extend({oper:e.oper,watch:e.env.watch},r||{}))},e.findTasks=e.findTasks||function(t,r){return decorator_1.findTasksInModule(t,_.extend({oper:e.oper,watch:e.env.watch},r||{}))},e.findTasksInDir=e.findTasksInDir||function(t,r){return decorator_1.findTasksInDir(t,_.extend({oper:e.oper,watch:e.env.watch},r||{}))},e.findTaskDefine=e.findTaskDefine||decorator_1.findTaskDefineInModule.bind(e),e.findTaskDefineInDir=e.findTaskDefineInDir||decorator_1.findTaskDefineInDir.bind(e),e.subTaskName=e.subTaskName||function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";_.isString(t)?n=t:t&&(n=utils_1.taskStringVal(t.name,e.oper));var i=utils_1.taskStringVal(e.option.name,e.oper);return i?i+"-"+(n||r):n},e.getSrc=e.getSrc||function(t,r){var n=void 0;return t&&(n=utils_1.taskSourceVal(getAssertSrc(t,r),e.oper)),n||(n=utils_1.taskSourceVal(getAssertSrc(e.option,r),e.oper)),n},e.getDist=e.getDist||function(t){if(t){var r=getCurrentDist(t,e.oper);if(r)return r}return getCurrentDist(e.option,e.oper)},e}function currentOperation(e){var t=void 0;return t=e.deploy?TaskConfig_1.Operation.deploy:e.release?TaskConfig_1.Operation.release:e.e2e?TaskConfig_1.Operation.e2e:e.test?TaskConfig_1.Operation.test:TaskConfig_1.Operation.build}function getAssertSrc(e,t){var r=null;return t&&(t.test?r=e.testSrc:t.e2e?r=e.e2eSrc:t.watch&&(r=e.watchSrc)),r||e.src}function getCurrentDist(e,t){var r=void 0;switch(t){case TaskConfig_1.Operation.build:r=e.buildDist||utils_1.taskStringVal(e.dist,t);break;case TaskConfig_1.Operation.test:r=e.testDist||e.buildDist||utils_1.taskStringVal(e.dist,t);break;case TaskConfig_1.Operation.e2e:r=e.e2eDist||e.buildDist||utils_1.taskStringVal(e.dist,t);break;case TaskConfig_1.Operation.release:r=e.releaseDist||utils_1.taskStringVal(e.dist,t);break;case TaskConfig_1.Operation.deploy:r=e.deployDist||utils_1.taskStringVal(e.dist,t);break;default:r=""}return r}var _=require("lodash"),TaskConfig_1=require("./TaskConfig"),generateTask_1=require("./generateTask"),taskSequence_1=require("./taskSequence"),utils_1=require("./utils"),decorator_1=require("./decorator");exports.bindingConfig=bindingConfig,exports.currentOperation=currentOperation;
//# sourceMappingURL=sourcemaps/bindingConfig.js.map
